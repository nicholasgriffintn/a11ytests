<!DOCTYPE html>
<html lang="en-gb">
  <head>
    <title>Perfect page when the cookie named 'open' has the value 'sesame'</title>
  </head>

  <body>
    <h1>There is a main heading</h1>
    <p id="p">
      But role="main" only appears when a cookie is set with open=sesame
    </p>
    <script>
    function getCookieValue(a) {
      var b = document.cookie.match('(^|;)\\s*' + a + '\\s*=\\s*([^;]+)');
      return b ? b.pop() : '';
    }
    if (getCookieValue('open') === 'sesame') {
      document.getElementById('p').setAttribute('role', 'main')
    }
    document.body.innerHTML += "<pre>document.cookie=" + document.cookie + "</pre>"
    </script>
  </body>
</html>
